<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }
      #map-canvas { height: 100% }
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script>

    <script type="text/javascript">
      var map;

      showMarker = function(lat, lng) {
        $('#lat').val(lat);
        $('#lng').val(lng);
        var latLng = new google.maps.LatLng(lat, lng);
        new google.maps.Marker({
          position: latLng,
          map: map
        });
        map.setCenter(latLng);
        map.setZoom(13);
      };

      showOtherDetailsInForm = function(screenSize, orientation) {
        $('#currentScreensize').html(screenSize);
        $('#orientation').html(orientation);
      };

      function initializeMaps() {
        var mapOptions = {
          center: new google.maps.LatLng(-28.4792625, 24.6727135),
          zoom: 6
        };
        map = new google.maps.Map(document.getElementById("map-canvas"),
            mapOptions);
      }

      google.maps.event.addDomListener(window, 'load', initializeMaps);
    </script>

    <script type="text/javascript" src="./vicinity.js"></script>
    <script type="text/javascript">
      new Vicinity (function(result) {
        $(function() {
          $("#ad").html(result.ad.getBannerHtml());

          showMarker(result.lat, result.lng);
          showOtherDetailsInForm(result.screensize, result.orientation);
        })
      });
    </script>

  </head>
  <body>
    <section>
      Screen size: <select name="screensize" id="screensize"><option value="280x178">280x178</option><option value="320x216">320x216</option><option value="440x254">440x254</option><option value="440x245">440x245</option><option value="254x144">254x144</option></select> (<span id="currentScreensize"></span> <span id="orientation"></span>)
       Latitude: <input type="text" name="lat" id="lat">  Longitude: <input type="text" name="lng" id="lng"> <input type="button" value="Go"/>
    </section>
    <div id="ad"></div>
    <div id="map-canvas"/>
  </body>
</html>
